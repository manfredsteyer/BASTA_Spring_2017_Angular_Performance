webpackJsonp([0],{1025:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(8),o=e(1),r=e(1029),a=e(1032),s=e(1028),l=e(74),c=e(58),u=e(290),d=e(1031),h=e(1027),f=e(1026),p=e(1030);e.d(n,"FlightBookingModule",(function(){return g}));var g=(function(){function t(){}return t})();g=i.a([e.i(o.NgModule)({imports:[l.CommonModule,c.a,c.b,u.a,d.a],declarations:[r.a,a.a,s.a,h.a],providers:[f.a,p.a],exports:[]})],g)},1026:function(t,n,e){"use strict";var i=e(8),o=e(1),r=e(137),a=e(288),s=e(197),l=(e.n(s),e(476));e.n(l);e.d(n,"a",(function(){return c}));var c=(function(){function t(t,n,e){this.oauthService=t,this.http=n,this.baseUrl=e,this.flights=[],this._flights$=new l.Subject,this.flights$=this._flights$}return t.prototype.delay=function(){var t=this.flights,n=t[0],e=new Date(n.date),o=new Date(e.getTime()+9e5),r=i.d({},n,{date:o.toISOString()}),a=[r].concat(t.slice(1));this.flights=a,this._flights$.next(this.flights)},t.prototype.findById=function(t){var n=this.baseUrl+"/api/flight",e=new r.Headers;e.set("Accept","text/json"),e.set("Authorization","Bearer "+this.oauthService.getAccessToken());var i=new r.URLSearchParams;return i.set("id",t),this.http.get(n,{headers:e,search:i}).map((function(t){return t.json()}))},t.prototype.find=function(t,n){var e=this,i="/data/flights.json",o=new r.Headers;o.set("Accept","text/json"),o.set("Authorization","Bearer "+this.oauthService.getAccessToken());var a=new r.URLSearchParams;a.set("from",t),a.set("to",n),this.http.get(i,{headers:o,search:a}).map((function(t){return t.json()})).subscribe((function(t){e.flights=t,e._flights$.next(e.flights)}),(function(t){console.warn(t)}))},t})();c=i.a([e.i(o.Injectable)(),i.c(2,e.i(o.Inject)(a.a)),i.b("design:paramtypes",[s.OAuthService,r.Http,String])],c)},1027:function(t,n,e){"use strict";var i=e(8),o=e(1);e.d(n,"a",(function(){return r}));var r=(function(){function t(){}return t})();r=i.a([e.i(o.Component)({selector:"flight-booking",template:e(1033)})],r)},1028:function(t,n,e){"use strict";var i=e(8),o=e(1),r=e(90),a=e(1026);e.d(n,"a",(function(){return s}));var s=(function(){function t(t,n){this.flightService=t,this.route=n,this.exitWarning={show:!1,resolve:null}}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe((function(n){t.id=n.id})),this.route.data.subscribe((function(n){var e=n.flight;e?t.flight=e:t.flight={}}))},t.prototype.save=function(){console.warn("save is not implemented")},t.prototype.decide=function(t){this.exitWarning.show=!1,this.exitWarning.resolve(t)},t.prototype.canDeactivate=function(){var t=this;return this.exitWarning.show=!0,new Promise(function(n){t.exitWarning.resolve=n})},t.prototype.remove=function(){console.log("remove is not implemented")},t})();s=i.a([e.i(o.Component)({template:e(1035)}),i.b("design:paramtypes",[a.a,r.a])],s)},1029:function(t,n,e){"use strict";var i=e(8),o=e(1),r=e(90),a=e(1026);e.d(n,"a",(function(){return s}));var s=(function(){function t(t,n){this.flightService=t,this.from="Hamburg",this.to="Graz",this.date=(new Date).toISOString(),n.queryParams.subscribe((function(t){}))}return Object.defineProperty(t.prototype,"flights$",{get:function(){return this.flightService.flights$},enumerable:!0,configurable:!0}),t.prototype.delay=function(){this.flightService.delay()},Object.defineProperty(t.prototype,"flights",{get:function(){return this.flightService.flights},enumerable:!0,configurable:!0}),t.prototype.select=function(t){this.selectedFlight=t},t.prototype.search=function(){this.flightService.find(this.from,this.to)},t.prototype.disableButton=function(t){console.log(t)},t})();s=i.a([e.i(o.Component)({selector:"flight-search",template:e(1036),styles:[e(1037)]}),i.b("design:paramtypes",[a.a,r.a])],s)},1030:function(t,n,e){"use strict";var i=e(8),o=e(0),r=(e.n(o),e(1026)),a=e(1);e.d(n,"a",(function(){return s}));var s=(function(){function t(t){this.flightService=t}return t.prototype.resolve=function(t,n){var e=t.params.id;return"0"==e?o.Observable.of(null):this.flightService.findById(e)},t})();s=i.a([e.i(a.Injectable)(),i.b("design:paramtypes",[r.a])],s)},1031:function(t,n,e){"use strict";var i=e(90),o=e(1029),r=e(1028),a=e(1027),s=e(1030),l=e(289);e.d(n,"a",(function(){return u}));var c=[{path:"",component:a.a,children:[{path:"",redirectTo:"flight-search",pathMatch:"full"},{path:"flight-search",component:o.a},{path:"flight-edit/:id",component:r.a,canDeactivate:[l.a],data:{restricted:!0},resolve:{flight:s.a}}]}],u=i.g.forChild(c)},1032:function(t,n,e){"use strict";var i=e(8),o=e(1);e.d(n,"a",(function(){return r}));var r=(function(){function t(t,n){this.zone=t,this.element=n,this.selectedItemChange=new o.EventEmitter}return t.prototype.select=function(){this.selectedItemChange.emit(this.item)},t.prototype.check=function(){return this.blink(),null},t.prototype.blink=function(){var t=this;this.element.nativeElement.firstChild.style.backgroundColor="crimson",this.zone.runOutsideAngular((function(){setTimeout((function(){t.element.nativeElement.firstChild.style.backgroundColor="lightsteelblue"}),1e3)}))},t})();i.a([e.i(o.Input)(),i.b("design:type",Object)],r.prototype,"item",void 0),i.a([e.i(o.Input)(),i.b("design:type",Object)],r.prototype,"selectedItem",void 0),i.a([e.i(o.Output)(),i.b("design:type",Object)],r.prototype,"selectedItemChange",void 0),r=i.a([e.i(o.Component)({selector:"flight-card",template:e(1034),changeDetection:o.ChangeDetectionStrategy.OnPush}),i.b("design:paramtypes",[o.NgZone,o.ElementRef])],r)},1033:function(t,n){t.exports='<div class="col-sm-3">\n    <ul class="nav nav-pills nav-stacked" style="margin-top:20px;">\n        <li routerLinkActive="active"><a [routerLink]="[\'./flight-search\']">Search Flights</a></li>\n        <li routerLinkActive="active"><a [routerLink]="[\'./flight-edit\', 0]">Add Flight</a></li>\n    </ul>\n</div>\n\n<div class="col-md-9">\n    <router-outlet></router-outlet>\n</div>\n'},1034:function(t,n){t.exports='<div style="padding:20px;"\n    [ngStyle]="{ \'background-color\': (item == selectedItem) ? \'orange\' : \'lightsteelblue\'}">\n    <h2>{{item.from}} - {{item.to}}</h2>\n    <p>Flight No. #{{item.id}}</p>\n    <p>Date: {{item.date | date:\'dd.MM.yyyy HH:mm\'}}</p>\n\n    <div style="height:40px">\n        <p>\n            <input type="button"\n                   value="AuswÃ¤hlen"\n                   class="btn btn-default"\n                   (click)="select()"/>\n        </p>\n    </div>\n\n    <ng-content></ng-content>\n\n    {{check()}}\n\n</div>\n'},1035:function(t,n){t.exports='<h1>Edit Flight</h1>\n\n<div *ngIf="exitWarning.show" class="alert alert-warning" style="position: fixed; top:20px; width:400px; z-index:10">\n    <div>\n      Do you really want to leave?\n    </div>\n    <div>\n        <a href="javascript:void(0)" (click)="decide(true)" class="btn btn-danger">Sure</a>\n        <a href="javascript:void(0)" (click)="decide(false)" class="btn btn-default">Nope</a>\n    </div>\n</div>\n\n<!--\n<div *ngIf="flight">\n-->\n<div *ngIf="message">\n    {{message}}\n</div>\n\n<div class="form-group">\n    <label>Id</label>\n    <input class="form-control" [(ngModel)]="flight.id">\n</div>\n<div class="form-group">\n    <label>From</label>\n    <input class="form-control" [(ngModel)]="flight.from">\n</div>\n<div class="form-group">\n    <label>To</label>\n    <input class="form-control" [(ngModel)]="flight.to">\n</div>\n<div class="form-group">\n    <label>Datum</label>\n    <input class="form-control" [(ngModel)]="flight.date">\n</div>\n<div class="form-group">\n    <button class="btn btn-primary" (click)="save()">Save</button>\n    <button flightTooltip2="This action is irreversible!" (flightClickWithWarning)="remove()">Remove</button>\n    <template #tooltip>\n        <flight-tooltip>\n            This action is irreversible.\n        </flight-tooltip>\n        <!--\n        <div>\n            This action is irreversible.\n        </div>\n        -->\n    </template>\n</div>\n<!--\n</div>\n-->\n'},1036:function(t,n){t.exports='<h1>Search Flights</h1>\n\n<form #f="ngForm" novalidate flightRoundTrip>\n\n    <div *ngIf="f?.control?.hasError(\'round-trip\')">\n        Round trips arn\'t allowed.\n    </div>\n\n    <div class="form-group">\n        <label>From</label>\n        <input class="form-control"\n               [(ngModel)]="from"\n               name="from">\n    </div>\n\n    <div class="form-group">\n        <label>To</label>\n        <input class="form-control" [(ngModel)]="to" name="to" flightE2eLocator="to">\n    </div>\n\n    <div class="form-group">\n        <button\n            class="btn btn-primary"\n            name="btnSearch"\n            [disabled]="!f.valid"\n            (click)="search()">Search\n        </button>\n      <button\n        class="btn btn-primary"\n        name="btnSearch"\n        [disabled]="!f.valid"\n        (click)="delay()">Delay\n      </button>\n    </div>\n\n</form>\n\n<div class="row">\n    <div *ngFor="let f of flights$ | async" class="col-sm-6 col-md-4 col-lg-3 ">\n        <flight-card [item]="f"\n                     [(selectedItem)]="selectedFlight">\n\n            <a class="btn btn-default"\n               [routerLink]="[\'../flight-edit\', f.id]">Edit</a>\n\n        </flight-card>\n\n    </div>\n</div>\n\n\n<div class="row" style="margin-top:40px">\n<pre>Your Flight\n----------------------\n{{selectedFlight | json}}\n</pre>\n</div>\n'},1037:function(t,n){t.exports="input.ng-valid{border-left-color:#228b22}input.ng-invalid,input.ng-valid{border-left-style:solid;border-left-width:5px}input.ng-invalid{border-left-color:hotpink}"}});